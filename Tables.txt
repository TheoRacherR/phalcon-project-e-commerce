Cart
    id
        product_id
        account_id
    created_at
    updated_at


Product
    id
        cart_id
        category_id
        purchase_id
        account_id
        return_id
    name
    stock
    description
    picture_url
    created_at
    updated_at


Account
    id
        cart_id
        review_id
        return_id
        purchase_id
        delivery_id
        product_id
    usename
    password
    email
    phone
    role
    address
    created_at
    updated_at


Review
    id
        account_id
    comment
    nb_star
    created_at
    updated_at


Purchase
    id
        account_id
        return_id
        product_id
        delivery_id
    total_price
    purchase_at
    created_at
    updated_at


Return
    id
        account_id
        purchase_id
        product_id
        delivery_id
    created_at
    updated_at


Category
    id
        child_category_id
        parent_category_id
        product_id
    name
    created_at
    updated_at


Delivery
    id
        account_id
        purchase_id
    status
    estimated_date
    delivery_date
    created_at
    updated_at



    *Cart        OneToOne        *Account
    Cart        ManyToMany      Product

    Category    ManyToOne       *Category
    Category    ManyToOne       *Product

    Product     ManyToOne       *Review
    *Product     OneToMany       Account
    Product     ManyToMany      Purchase
    Product      ManyToMany      Return

    Account     ManyToOne       *Review
    Account     ManyToOne       *Purchase
    Account    ManyToOne       *Delivery
    Account      ManyToOne       *Return


-- Active: 1667853929586@@127.0.0.1@3306@phalcon_app
create table cart(  
    id int(10) auto_increment  primary key,
    create_at datetime,
    update_at datetime
);

create table cart_x_product(  
    id_cart int(10),
    id_product int(10)
);

create table product(  
    id int(10) auto_increment  primary key,
    id_owner int(10),
    id_sub_category int(10),
    name varchar(255),
    description varchar(255) null,
    stock int(10),
    picture_url varchar(255) null,
    create_at datetime,
    update_at datetime
);

create table product_x_purchase(  
    id_product int(10),
    id_purchase int(10)
);

create table product_x_return(  
    id_product int(10),
    id_return int(10)
);

create table account(  
    id int(10) auto_increment  primary key,
    username varchar(255),
    password varchar(255),
    email varchar(255) null,
    phone varchar(255) null,
    role int(10),
    address varchar(255) null,
    create_at datetime,
    update_at datetime
);

create table review(  
    id int(10) auto_increment  primary key,
    id_product int(10),
    id_account int(10),
    comment varchar(255) null,
    nb_star int(10),
    create_at datetime,
    update_at datetime
);

create table purchase(  
    id int(10) auto_increment  primary key,
    id_account int(10),
    total_price int(10),
    purchase_at datetime,
    create_at datetime,
    update_at datetime
);

create table returned(  
    id int(10) auto_increment  primary key,
    id_account int(10),
    create_at datetime,
    update_at datetime
);

create table category(  
    id int(10) auto_increment  primary key,
    child_category int(10),
    parent_category int(10),
    name varchar(255),
    create_at datetime,
    update_at datetime
);

create table delivery(  
    id int(10) auto_increment  primary key,
    id_account int(10),
    status varchar(255) null,
    estimated_date datetime,
    delivery_at datetime null,
    create_at datetime,
    update_at datetime
);

